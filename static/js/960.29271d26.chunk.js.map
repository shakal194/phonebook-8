{"version":3,"file":"static/js/960.29271d26.chunk.js","mappings":"uMACA,EAA2B,4BAA3B,EAA+D,yBAA/D,EAA+F,wBAA/F,EAA+H,yBAA/H,EAAgK,yBAAhK,EAAkM,0BAAlM,EAAsO,2B,mBCKvN,SAASA,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MACjB,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAgCF,EAAAA,EAAAA,UAAS,IAAzC,eAAOG,EAAP,KAAiBC,EAAjB,KACA,GAAwCJ,EAAAA,EAAAA,WAAS,GAAjD,eAAOK,EAAP,KAAqBC,EAArB,KACA,GAA8CN,EAAAA,EAAAA,WAAS,GAAvD,eAAOO,EAAP,KAAwBC,EAAxB,KACA,GAAwCR,EAAAA,EAAAA,UAAS,IAAjD,eAAOS,EAAP,KAAqBC,EAArB,KACMC,GAAUC,EAAAA,EAAAA,IAAYC,EAAAA,EAAAA,iBAC5BC,EAAAA,EAAAA,YAAU,WACJH,GACFD,EAAgB,kCAElBK,YAAW,WACTL,EAAgB,MACf,OACF,CAACC,IAEJ,IAAMK,EAAe,SAAC,GAAiC,IAAD,IAA9BC,OAAUC,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,MACtC,OAAQD,GACN,IAAK,QACH,OAAOhB,EAASiB,GAClB,IAAK,WACH,OAAOf,EAAYe,GACrB,QACE,SAsBN,OACE,+BACE,iBAAKC,UAAWC,EAAhB,WACE,4BACE,eAAID,UAAWC,EAAf,qBACA,iBAAKD,UAAWC,EAAhB,UACGhB,IAAgB,4CAChBE,IAAmB,+CACnBI,GAAWF,IAAgB,6BAAKA,YAIrC,kBAAMW,UAAWC,EAAQC,SA9BV,SAAAC,GAEnB,OADAA,EAAEC,iBACmB,KAAjBvB,EAAMwB,QACRnB,GAAgB,QAChBS,YAAW,kBAAMT,GAAgB,KAAQ,MAGnB,KAApBH,EAASsB,QACXjB,GAAmB,QACnBO,YAAW,kBAAMP,GAAmB,KAAQ,OAI9CV,GAAS4B,EAAAA,EAAAA,IAAM,CAAEzB,MAAAA,EAAOE,SAAAA,KACxBD,EAAS,SACTE,EAAY,MAeyCuB,aAAa,KAA9D,WACE,mBAAOP,UAAWC,EAAlB,mBAEE,kBACED,UAAWC,EACXO,KAAK,QACLV,KAAK,QACLC,MAAOlB,EACP4B,SAAUb,QAId,mBAAOI,UAAWC,EAAlB,sBAEE,kBACED,UAAWC,EACXO,KAAK,WACLV,KAAK,WACLC,MAAOhB,EACP0B,SAAUb,QAId,mBAAQI,UAAWC,EAAUO,KAAK,SAAlC","sources":["webpack://phonebook-8/./src/components/view/LoginView/LoginView.module.css?0290","components/view/LoginView/LoginView.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"formPage\":\"LoginView_formPage__qtdh7\",\"title\":\"LoginView_title__in6HI\",\"form\":\"LoginView_form__BTzIb\",\"label\":\"LoginView_label__L17iR\",\"input\":\"LoginView_input__Ow6GT\",\"button\":\"LoginView_button__SXbr8\",\"massage\":\"LoginView_massage__Cc5-b\"};","import { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { logIn } from 'redux/auth/auth-operations';\nimport s from './LoginView.module.css';\nimport authSelectors from 'redux/auth/auth-selectors';\n\nexport default function LoginView() {\n  const dispatch = useDispatch();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isEmailEmpty, setIsEmailEmpty] = useState(false);\n  const [isPasswordEmpty, setIsPasswordEmpty] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const isError = useSelector(authSelectors.getIsAuthError);\n  useEffect(() => {\n    if (isError) {\n      setErrorMessage('E-mail or password are invalid');\n    }\n    setTimeout(() => {\n      setErrorMessage('');\n    }, 3000);\n  }, [isError]);\n\n  const handleChange = ({ target: { name, value } }) => {\n    switch (name) {\n      case 'email':\n        return setEmail(value);\n      case 'password':\n        return setPassword(value);\n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (email.trim() === '') {\n      setIsEmailEmpty(true);\n      setTimeout(() => setIsEmailEmpty(false), 3000);\n      return;\n    }\n    if (password.trim() === '') {\n      setIsPasswordEmpty(true);\n      setTimeout(() => setIsPasswordEmpty(false), 3000);\n      return;\n    }\n\n    dispatch(logIn({ email, password }));\n    setEmail('');\n    setPassword('');\n  };\n\n  return (\n    <>\n      <div className={s.formPage}>\n        <div>\n          <h1 className={s.title}>Log in</h1>\n          <div className={s.massage}>\n            {isEmailEmpty && <p>Enter your email</p>}\n            {isPasswordEmpty && <p>Enter your password</p>}\n            {isError && errorMessage && <p> {errorMessage}</p>}\n          </div>\n        </div>\n\n        <form className={s.form} onSubmit={handleSubmit} autoComplete=\"on\">\n          <label className={s.label}>\n            Email\n            <input\n              className={s.input}\n              type=\"email\"\n              name=\"email\"\n              value={email}\n              onChange={handleChange}\n            />\n          </label>\n\n          <label className={s.label}>\n            Password\n            <input\n              className={s.input}\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={handleChange}\n            />\n          </label>\n\n          <button className={s.button} type=\"submit\">\n            Sign in\n          </button>\n        </form>\n      </div>\n    </>\n  );\n}\n"],"names":["LoginView","dispatch","useDispatch","useState","email","setEmail","password","setPassword","isEmailEmpty","setIsEmailEmpty","isPasswordEmpty","setIsPasswordEmpty","errorMessage","setErrorMessage","isError","useSelector","authSelectors","useEffect","setTimeout","handleChange","target","name","value","className","s","onSubmit","e","preventDefault","trim","logIn","autoComplete","type","onChange"],"sourceRoot":""}