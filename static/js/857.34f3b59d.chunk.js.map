{"version":3,"file":"static/js/857.34f3b59d.chunk.js","mappings":"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","sources":["webpack://phonebook-8/./src/components/view/RegisterView/RegisterView.module.css?32c4","components/view/RegisterView/RegisterView.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"formPage\":\"RegisterView_formPage__CXBkg\",\"title\":\"RegisterView_title__62JZO\",\"form\":\"RegisterView_form__HVfo1\",\"formText\":\"RegisterView_formText__NqwjX\",\"label\":\"RegisterView_label__lwuqH\",\"input\":\"RegisterView_input__D9Uox\",\"button\":\"RegisterView_button__9V-EH\",\"massage\":\"RegisterView_massage__zt2Qj\"};","import { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { register } from '../../../redux/auth/auth-operations';\nimport s from './RegisterView.module.css';\nimport authSelectors from 'redux/auth/auth-selectors';\n\nexport default function RegisterView() {\n  const dispatch = useDispatch();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isNameEmpty, setIsNameEmpty] = useState(false);\n  const [isEmailEmpty, setIsEmailEmpty] = useState(false);\n  const [isPasswordEmpty, setIsPasswordEmpty] = useState(false);\n  const [isPasswordValid, setIsPasswordValid] = useState(true);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const isError = useSelector(authSelectors.getIsAuthError);\n\n  useEffect(() => {\n    console.log('isError', isError);\n    if (isError?.name === 'MongoError') {\n      setErrorMessage('This user is already registered');\n    }\n    if (isError?.errors?.password?.name === 'ValidatorError') {\n      setErrorMessage(isError.message);\n    }\n    setTimeout(() => {\n      setErrorMessage('');\n    }, 3000);\n  }, [isError]);\n\n  const handleChange = ({ target: { name, value } }) => {\n    switch (name) {\n      case 'name':\n        return setName(value);\n      case 'email':\n        return setEmail(value);\n      case 'password':\n        return setPassword(value);\n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (name.trim() === '') {\n      setIsNameEmpty(true);\n      setTimeout(() => setIsNameEmpty(false), 3000);\n      return;\n    }\n    if (email.trim() === '') {\n      setIsEmailEmpty(true);\n      setTimeout(() => setIsEmailEmpty(false), 3000);\n      return;\n    }\n    if (password.trim() === '') {\n      setIsPasswordEmpty(true);\n      setTimeout(() => setIsPasswordEmpty(false), 3000);\n      return;\n    }\n    if (password.length < 7) {\n      setIsPasswordValid(false);\n      setTimeout(() => setIsPasswordValid(true), 3000);\n      return;\n    }\n    dispatch(register({ name, email, password }));\n    setName('');\n    setEmail('');\n    setPassword('');\n  };\n\n  return (\n    <>\n      <div className={s.formPage}>\n        <div>\n          <h1 className={s.title}>Sing up</h1>\n          <div className={s.massage}>\n            {isNameEmpty && <p>Enter your name</p>}\n            {isEmailEmpty && <p>Enter your email</p>}\n            {isPasswordEmpty && <p>Enter your password</p>}\n            {!isPasswordValid && (\n              <p>Minimum allowed password length is 8 characters</p>\n            )}\n            {isError && errorMessage !== '' && <p>{errorMessage}</p>}\n          </div>\n        </div>\n\n        <form className={s.form} onSubmit={handleSubmit} autoComplete=\"on\">\n          <p className={s.formText}> Registration details</p>\n          <label className={s.label}>\n            Name\n            <input\n              className={s.input}\n              type=\"text\"\n              name=\"name\"\n              value={name}\n              onChange={handleChange}\n            />\n          </label>\n\n          <label className={s.label}>\n            Email\n            <input\n              className={s.input}\n              type=\"email\"\n              name=\"email\"\n              value={email}\n              onChange={handleChange}\n            />\n          </label>\n\n          <label className={s.label}>\n            Password\n            <input\n              className={s.input}\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={handleChange}\n            />\n          </label>\n\n          <button className={s.button} type=\"submit\">\n            Sing up\n          </button>\n        </form>\n      </div>\n    </>\n  );\n}\n"],"names":["RegisterView","dispatch","useDispatch","useState","name","setName","email","setEmail","password","setPassword","isNameEmpty","setIsNameEmpty","isEmailEmpty","setIsEmailEmpty","isPasswordEmpty","setIsPasswordEmpty","isPasswordValid","setIsPasswordValid","errorMessage","setErrorMessage","isError","useSelector","authSelectors","useEffect","console","log","errors","message","setTimeout","handleChange","target","value","className","s","onSubmit","e","preventDefault","trim","length","register","autoComplete","type","onChange"],"sourceRoot":""}